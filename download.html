<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta http-equiv="Content-Script-Type" content="text/javascript">
	<meta http-equiv="Content-Style-Type" content="text/css">
	<link rel="SHORTCUT ICON" href="./favicon.ico">
	<meta name="viewport" content="user-scalable=yes,initial-scale=1">
	<title>なんかくれ - PC-9800 Series Emulator Neko Project 21/W</title>
	<link rel="stylesheet" type="text/css" href="./style.css?dummy=5">
</head>
<body>
	<h1>なんかくれ</h1>
	<img src="img/pc9821np2_emu3t2_logo.png">
	<p>
		Neko Project 21/Wとその他色々を公開しています。
	</p>
	<p>
		Neko Project 21/Wは本家Neko Project 21をベースとしてPC-98中期～末期（1993年頃～）のエミュレーションも出来るように色々と機能追加したでものです。
	</p>
	<p>
		このエミュレータはWindows2000（SP4 SRP1v2必須）以降のホストでのみ実行できます。Linux等では実行できません。非Windows環境の場合はAZO氏の<a href="https://domisan.sakura.ne.jp/article/np2kai/np2kai.html" target="_blank">Neko Project II (NP2) 改変</a>を使うとほぼ同等の機能が使えます。
	</p>
	<h2>Neko Project 21/W関連</h2>
	<img src="img/np21w.png">
	<p>
		※ステートセーブ・レジュームの互換性はバージョンアップの際に無くなる場合がありますのでご注意ください<br>
		※初めて使用される場合はページ下部の注意事項もご覧下さい
	</p>
	<div class="downloadContents">
		<a href="https://drive.google.com/file/d/1jyw1yCoEs6NlN--vCH7PRbwZbYSsVbdW/view?usp=sharing">Neko Project 21/W ダウンロード（ver0.86 rev81）</a><br>
		通常版です。ソースコード付きです。
	</div>
	<div class="downloadContents">
		<a href="https://drive.google.com/file/d/1J4MyzjD5rQs1jejuH34OQCbfBlCKG5j8/view?usp=sharing">Neko Project 21/W ダウンロード（ver0.86 rev82β5）</a><br>
		β版です。ソースコード付きです。
	</div>
	<div class="downloadContents">
		<a href="https://drive.google.com/file/d/1R7YK4YRZXO5_-owK4if8i_U4BsjTRJpw/view?usp=sharing">Neko Project II ユーティリティディスク（np2tool.d88）</a><br>
		HOSTDRV.COM, PWOFF.COMなど
	</div>
	<div class="downloadContents">
		<a href="https://drive.google.com/file/d/18KH-ZV6kCa0j0fg-4JHgSIQsiX8N6whE/view?usp=sharing">Neko Project 21/W ユーティリティ＆ディスクイメージ</a><br>
		NPCNGCLK.EXE, NPCNGCFG.EXE, NPCCxx.COMなど（本家np2/np21で使っても何も起こりません）
	</div>
	<div class="downloadContents">
		<a href="https://drive.google.com/drive/folders/0B19bYGqHu2lvTWZWSHlHLWMxVW8?usp=sharing">過去バージョンのアーカイブ</a><br>
		旧バージョンのテストやdiffをしたい人向け（致命的なバグがあるバージョンも含まれます・ディスクイメージバックアップ推奨）
	</div>
	<div class="downloadContents" style="font-size:smaller;">
		<a href="https://drive.google.com/file/d/1hVnCLXoO3Qs_xRGiCKx7YLAZOA9d3OK_/view?usp=sharing">各ゲストOS向けの設定ファイル</a><br>
		各OS用の推奨設定ファイルです。<del>Win2000 Setup（IDEのInterrupt DelayをRead/Writeともに2000以上にする必要あり）にさえ注意すればはあえて使う必要はないです。</del>rev.81β2からはWin2000 Setupでのディレイ設定不要です。
	</div>
	<div class="downloadContents" style="font-size:smaller;">
		<a href="https://drive.google.com/file/d/1SjKZUoMIDuom0iV44XS2ziDNWEaSm5vm/view?usp=sharing">各OSのセットアップ手順</a><br>
		各OSのセットアップ手順（旧サイトにあったもの）のアーカイブです。最近のバージョンであればこれを見ないでセットアップしてもほぼ問題ないです。
	</div>
	
	<div class="downloadContents">
	<h3>バージョン履歴</h3>
	<p>
		長いので<a href="./version.html">バージョン履歴</a>へ。
	<p>
	</div>

	<h2>実機関連</h2>
	<img src="img/sb16.png">
	<p>
		エミュレータだけでなく実機でも使えます。
	</p>
	<div class="downloadContents">
		<a href="https://drive.google.com/file/d/1MZegrFGA5fcsQ4uyvOw8EXtM97aDP15i/view?usp=sharing">Sound Blaster 16 for PC-98 Windows2000用ドライバ (WDM) パッチ ver.0.8</a><br>
		Windows2000でSound Blaster 16 for PC-98を使うためのドライバをPC/AT互換機用ドライバから生成するパッチです。実機でも使えます。旧バージョンが欲しい方は上記の過去バージョンのアーカイブから探してください。<br>
		補足：Win98で公式最新ドライバ（DirectX対応）を使いたい場合はSB16.VXDのアドレス156CEにある8B C5をEB 61に書き換えると動くそうです（どこかに書かれていた情報です）
	</div>
	<div class="downloadContents">
		<a href="https://drive.google.com/file/d/15bCvlKX3XHIpepg2ZcdDh4SUVEUJkVPr/view?usp=sharing">MPU-PC98II Windows2000用ドライバ (WDM) パッチ ver.0.8</a><br>
		Windows2000でMPU-PC98IIまたはその互換デバイスを使うためのドライバをPC/AT互換機用ドライバから生成するパッチです。実機でも使えます。安定性を求めるならNT4.0のドライバを借りてくる方が良いかもしれません。旧バージョンが欲しい方は上記の過去バージョンのアーカイブから探してください。
	</div>

	<h2>N88-BASIC関連</h2>
	<img src="img/fft.png">
	<p>
		N88-BASICで高速フーリエ変換をするプログラムです。
		そんなに速くない代わりに機械語なしで動きます。
	</p>
	<p>
		ほぼ下記のC言語ソースの移植ですので、私は権利主張いたしません。制限無く自由に使って頂いて構いません。<br>
		<span style="font-size:x-small;">とは言え、今更BASICで何かすることもないと思いますが･･･</span><br>
		移植元→<a href="http://www.kurims.kyoto-u.ac.jp/~ooura/fftman/" taget="_blank" rel=noreferrer>FFT (高速フーリエ・コサイン・サイン変換) の概略と設計法</a>
	</p>
	<div class="downloadContents">
		<a href="./src/FFT001.BAS">BASICで高速フーリエ変換　第1回</a><br>
		<a href="./src/FFT002.BAS">BASICで高速フーリエ変換　第2回</a><br>
		<a href="./src/FFT003.BAS">BASICで高速フーリエ変換　第3回</a><br>
		<a href="./src/FFT004.BAS">BASICで高速フーリエ変換　第4回</a><br>
		<a href="./src/FFT005.BAS">BASICで高速フーリエ変換　第5回</a><br>
		<a href="./src/FFT006.BAS">BASICで高速フーリエ変換　第6回</a><br>
		<a href="./src/FFT007.BAS">BASICで高速フーリエ変換　第7回</a><br>
		<a href="./src/FFT008.BAS">BASICで高速フーリエ変換　第8回</a><br>
		<a href="./src/FFT009.BAS">BASICで高速フーリエ変換　第9回</a><br>
	</div>

	<h2>SL9821勝手に改造関連</h2>
	<img src="img/sl9821.png">
	<p>
		SL9821にNeko Project 21/WのLGY-98とCL-GD5430を無理やりくっつけてみた試作品です。
	</p>
	<p>
		バージョンがかなり古いので注意。
	</p>
	<div class="downloadContents">
		<a href="https://drive.google.com/file/d/1SqW39FldFSygA8yWXgyrlEU0TWLZIcWK/view?usp=sharing">SL9821 + LGY-98(TAP-Win32)</a><br>
		Neko Project 21/Wのソースを流用してSL9821(0.2.4.2)をLGY-98対応させてみたものです。使用条件等はSL9821のサイトをご覧下さい。
	</div>
	<div class="downloadContents">
		<a href="https://drive.google.com/file/d/1mxQN7yfvJuCzq3yEqEXxI67YDzWl9dW6/view?usp=sharing">SL9821 + LGY-98(TAP-Win32) + CL-GD5430</a><br>
		Neko Project 21/Wのソースを流用してSL9821(0.2.4.2)をLGY-98とCL-GD5430ウィンドウアクセラレータに対応させてみたものです。別窓モードしか実装していない＆マウス操作はメイン画面でしかできないので使いにくいと思います。使用条件等はSL9821のサイトをご覧下さい。
	</div>

	<h2>注意事項</h2>
	
	<h3>BIOSについて</h3>
	<p>
		本家Neko Project IIと同じく、Neko Project 21/WもBIOSがなくてもそれなりに動くように作られています。<br>
		BIOSがない場合の制限事項は以下の通りです。<span style="font-size:smaller;">逆に言えばこれ以外の制限はほぼありません。</span>
	</p>
	<ul>
		<li>フォントが実機と異なる（FONT.ROMが無いとき）</li>
		<li>ROM版・DISK版のN88-BASICが使用できない（BIOS.ROMが無いとき）</li>
		<li>サウンドBIOSを使用するソフトが正しく動かない（SOUND.ROMが無いとき）</li>
	</ul>
	<p>
		なお、ITF.ROMは必要ありません（使用しません）。他、IDE.ROM等は非推奨のため用意する必要はありません。
	</p>
	<p>
		機種依存系のフラグは全てNeko Project 21/Wが修正しますので、よほど特殊でない限りはどんな機種から取ってきても問題ないはずです。
	</p>
	
	<h3>メモリマップについて</h3>
	<p>
		Neko Project 21/Wのメモリマップはやや特殊ですので、UMBの設定の際はご注意下さい。
		実機でチューニングしたものを持ってきてもそのままでは動かないと思います。
	</p>
	<p>
		手動で設定するのが面倒な場合はHIMEM+EMM386やLEMMにしておけば自動でそれなりに設定してくれます。
	</p>
	<div  style="margin:16px;" class="tablediv">
	<table style="max-width:100%;" border=1>
		<thead>
			<tr><th style="min-width:6em;">使用機器</th><th style="min-width:9em;">アドレス</th><th>備考</th></tr>
		</thead>
		<tbody>
			<tr><td>SASI</td><td>D0000h～D0FFFh</td><td>SASI互換HDDをIDE#1, IDE#2に接続した場合のみ使用されます</td></tr>
			<tr><td>SCSI</td><td>D2000h～D5FFFh</td><td>SCSIを使用していない場合は空きになります</td></tr>
			<tr><td>IDE</td><td>D8000h～DBFFFh</td><td>rev69以降のエミュレーションIDE BIOSでは使用されません（実機IDE BIOS使用時のみ占有）。非公開機能で変更可能（付属ヘルプ参照のこと）</td></tr>
		</tbody>
	</table>
	</div>
	
	<h3>ディスクイメージ追加サポートについて</h3>
	<p>
		NVL.DLLを用意するとNeko Project 21/Wで追加のディスクイメージが読めるようになります。NVL.DLLについては「Neko Project 21/W(np21w, ねこープロジェクト21/W)用のVirtualPC等イメージ使用ライブラリ」で検索してください（ディスクイメージエディタのNDと同じサイトです）。ページにはビルド手順が書かれていますが、現在のバージョンでは既に取り込まれていますので変更用ファイルの中のNVL.DLLだけを用意すればOKです。
	</p>
	<p>
		追加サポートされる主要なイメージ形式は以下の通りです。
	</p>
	<ul>
		<li>容量可変VirtualPC形式</li>
		<li>VMware形式</li>
		<li>Hyper-V形式</li>
		<li>VirtualBox形式</li>
		<li>QEMU qcow形式</li>
	</ul>
	
	<h3>ライセンスについて</h3>
	<p>
		Neko Project 21/Wの大半のコードは修正BSDライセンスですが、以下のファイルは移植のためライセンスが異なっています。これらを含めてコンパイルすると全体としてのライセンスが変わりますのでご注意ください。 
	</p>
	<div  style="margin:16px;" class="tablediv">
	<table style="max-width:100%;" border=1>
		<thead>
			<tr><th style="min-width:6em;">ファイル</th><th style="min-width:7em;">ライセンス</th><th>除外方法</th></tr>
		</thead>
		<tbody>
			<tr><td>cirrus_vga*.*<br>lgy98*.*</td><td>MIT</td><td>SUPPORT_CL_GD5430とSUPPORT_LGY98をプリプロセッサ定義から削除する</td></tr>
			<tr><td>fpemul_dosbox.c<br>fpemul_dosbox2.c<br>fpemul_softfloat.c</td><td>GPL</td><td> fpemul_dosbox.c, fpemul_dosbox2.c, fpemul_softfloat.c)をコンパイルから除外する（Berkeley SoftFloatは本来別のライセンスですがfpemul_softfloat.cだけはDOSBox由来のコードを含むためGPLです）</td></tr>
			<tr><td>fpu/softfloat/*.*</td><td>Readme参照</td><td>SUPPORT_FPU_SOFTFLOATをプリプロセッサ定義から削除し、softfloat/*.*を除外する</td></tr>
			<tr><td>/sound/fmgen/*.*</td><td>Readme参照</td><td>SUPPORT_FMGENをプリプロセッサ定義から削除し、/sound/fmgen/*.*を除外する</td></tr>
			<tr><td>/sound/mame/*.*</td><td>GPLv2</td><td>USE_MAMEをプリプロセッサ定義から削除し、/sound/mame/*.*を除外する</td></tr>
		</tbody>
	</table>
	</div>
	
	<p>
		<a href="./index.html">トップに戻る</a>
	</p>
</body>
</html>